---
layout: post
title: پەیوەندی بە بنکەدراوەی mysql
tags: [mysql]
date : "2018-08-12 05:35:45"
---

### پێشەکی

لەزنجیرە فێرکاری بنکە دراوەی MYSQL، ئێمە فێر دەبین چۆن بە ڕستەکاری ئەسڵی، پەیوەندی بە بنکەدراوەی MySQL بگرین.

### ئاشنایی بە پەیوەندی بە بنکەدراوە لە MySQL

ئێوە دەتوانن بە هێڵی فەرمان لە mysql زۆر بە ئاسانی بنکەدراوەی دڵخوازتان دروست بکەن. نمونە: لەم نمونە ئێوە دەتوانن زۆر بە سادەیی پەیوەندی بە ڕاژەکاری بنکە دراوە بگرن.

```sql
[root@host]# mysql -u root -p
Enter password:******
```

پاش فەرمانی MYSQL ئێوە دەتوانن هەر یەک لە فەرمانەکانی SQL بنووسن و جێبەجێی بکەن،پاش نووسینی کۆدەکەی سەرەوە ئێوە دەتوانن ئاکامی خوارەوە ببینن

```sql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2854760 to server version: 5.0.9
 
Type 'help;' or '\h' for help. Type '\c' to clear the buffer.
```



☚ لە نمونەی سەرەوە بە بەکارهێنەری **root** چووینەتە نێو بنکەدراوە، بەڵام ئێوە بەهەر بەکارهێنەرێکی دیکە کە ڕێگەتان پێ داوە دەتوانن فەرمان بۆ دەستپێگەیشتن بنووسن و فەرمانەکانی sql جێبەجێ بکەن.

ئێوە دەتوانن بە فەرمانی **exit** پاش <mysql هەر کات پێتان خۆش بوو لە بنکەدراوە بچنەدەرەوە.

```sql
mysql> exit
Bye
```



### پەیوەندی بە MySQL بە یارمەتی کۆدی PHP

زمانی PHP نەخشەی[^1] ()mysql_connect بۆ پەیوەندی بە بنکەدراوە دابین کردووە. ئەم نەخشە بریتییە لە ٥ پارامەتر و یەک بەستەری ناسنامەی MySQL کە لە کاتی سەرکەوتن True و لە کاتی هەڵە Falseدەگەرێنێتەوە. نمونەی داڕستان :

```sql
connection mysql_connect(server,user,passwd,new_link,client_flag);
```

شرۆڤەی پارامەترەکەی سەرەوە:



|                            ژمارە                             |   پارامەتر   |                            شرۆڤە                             |
| :----------------------------------------------------------: | :----------: | :----------------------------------------------------------: |
|                              ١                               |    server    | ناوی ڕاژەکاری بنکەدراوەیە گەر دابین نەکرابێت م گریمانە بەم جۆرەیە localhost:3306. |
|                              ٢                               |     user     | ناوی ئەو بەکارهێنەرەیە کە دەستپیگەیشتنی هەیە بە بنکە دراوەکە گەر دابین نەکرابێت ناوی ئەو بەکارهێنەرە لە پرۆسەی دامەزراندنی ڕاژەکارە |
|                              ٣                               |    passwd    | تێپەڕوشەی بەکارهینەرێکە کە دەتوانێت ئیش بە بنکەدراوە بکا،هەر چەند بێشگری تێپەڕوشەیێکی empty یە. |
|                              ٤                               |   new_link   |             بانگکردنی نەخشەی ()mysql_connectــە              |
|                              ٥                               | client_flags |                 تێکڵاوێک لە نەگۆڕەکان [^2]:                  |
|            MYSQL_CLIENT_SSL :سوود وەرگرتن لە SSL.            |              |                                                              |
| MYSQL_CLIENT_COMPRESS : سوودوەرگرتن لە پرۆتۆکۆلی پەستان[^3]  |              |                                                              |
| MYSQL_CLIENT_IGNORE_SPACE : رێدان بە بۆشایی[^4]پاش ناوی نەخشەکان. |              |                                                              |
| MYSQL_CLIENT_INTERACTIVE :چرکەی وێستاندن پێش داخستنی پەیوەندی بنکەدراوە. |              |                                                              |

ئێوە دەتوانن لە هەر کات پەیوەندی خۆتان لەگەڵ بنکە دراوە بە نەخشەی **()mysql_close** بچرێنن. هەر نەخشەیێک پارامەترێک وەردەگرێت، کە پەیوەندیێک بە نەخشەی **()mysql_connect** دەگەڕێنێتەوە.

**نمونە :**

```sql
bool mysql_close ( resource $link_identifier );
```

گەر سەرچاوەکان بەدی نەکرابێن، دوایین بنکەدراوە کراوە، دادەخرێت. ئەم نەخشە گەر پەیوەندی سەرکەوتووانە داخرا بێت true و بە پێچەوانەش false دەگەڕێنێتەوە.



**نمونە :**

کۆدەکەی سەرەوە چۆنیەتی پەیوەندی سادە بە MySQL server نیشان دەدا :

```sql
<html>
   <head>
      <title>Connecting MySQL Server</title>
   </head>
   <body>
      <?php
         $dbhost = 'localhost:3306';
         $dbuser = 'guest';
         $dbpass = 'guest123';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
          
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully';
         mysql_close($conn);
      ?>
   </body>
</html>
```

------

[^1]: Function
[^2]: constant
[^3]: compress
[^4]: space 

